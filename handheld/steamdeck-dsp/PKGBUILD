# Maintainer Ethan Geller (ethang@valvesoftware.com)

pkgname=steamdeck-dsp
pkgver=0.66
pkgrel=1
arch=('any')
url="https://gitlab.com/evlaV/valve-hardware-audio-processing"
pkgdesc="Steamdeck Audio Processing"
license=('GPL-2.0-or-later')
depends=('pipewire')
makedepends=('git' 'openssh' 'base-devel' 'glibc' 'faust' 'ladspa' 'lv2' 'boost' 'linux-api-headers' 'qt5-base')
source=("git+https://gitlab.com/evlaV/valve-hardware-audio-processing.git#tag=${pkgver}")
sha512sums=('49a84a3468555c42b0b13ab3f4aa3e60f6a868f06c5ac49d8454f9b60dd8faa60ff7e8106de18e4805c1e0aa4cb61744bb11cfe31ca5ef92c8da10a8608cd43f')

build() {
  cd valve-hardware-audio-processing
  make FAUSTINC="/usr/include/faust" FAUSTLIB="/usr/share/faust"
}

package() {
  cd valve-hardware-audio-processing
  make DEST_DIR="$pkgdir/" install
}
