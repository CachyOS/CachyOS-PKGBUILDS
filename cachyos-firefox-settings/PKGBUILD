# Maintainer: Vasiliy Stelmachenok <ventureo@cachyos.org>
pkgname=cachyos-firefox-settings
pkgver=20251203
pkgrel=1
pkgdesc='CachyOS settings for Firefox browser'
depends=('firefox' 'xdg-desktop-portal-impl')
arch=('any')
license=(GPL-3.0-or-later)
backup=('etc/firefox/policies/policies.json')
url="https://github.com/CachyOS/CachyOS-PKGBUILDS/tree/master/$pkgname"
conflicts=(firefox-settings)
replaces=(firefox-settings)
provides=(firefox-settings)
source=(
    cachyos.js
    policies.json
)
sha256sums=('37dd487752716531d5d00783ea6b6ad705aa67cf87e21a9b1291dfbfe33a5b02'
            '1e4c43ef30b5952df184859dc97bcab5fc34dbcd977d4852851d45a236e2f45d')

pkgver() {
    date +%Y%m%d
}

package() {
    install -Dm644 cachyos.js "$pkgdir/usr/lib/firefox/browser/defaults/preferences/cachyos.js"
    install -Dm644 policies.json "$pkgdir/etc/firefox/policies/policies.json"
}
