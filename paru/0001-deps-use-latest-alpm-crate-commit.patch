From 2892875c307d78d23f60021d908d19c84311e0a8 Mon Sep 17 00:00:00 2001
From: Vladislav Nepogodin <nepogodin.vlad@gmail.com>
Date: Mon, 10 Nov 2025 02:42:11 +0400
Subject: [PATCH] deps: use latest alpm crate commit

---
 Cargo.lock | 13 +++++--------
 Cargo.toml |  4 +++-
 2 files changed, 8 insertions(+), 9 deletions(-)

diff --git a/Cargo.lock b/Cargo.lock
index 9ef9d2a..405bdf8 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -29,8 +29,7 @@ dependencies = [
 [[package]]
 name = "alpm"
 version = "4.0.3"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "e7af97d07874ead330d0d636e0953bfdb05973010bbf0ed996a600c283bcd05c"
+source = "git+https://github.com/archlinux/alpm.rs?rev=54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a#54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a"
 dependencies = [
  "alpm-sys",
  "bitflags 2.9.1",
@@ -39,8 +38,7 @@ dependencies = [
 [[package]]
 name = "alpm-sys"
 version = "4.0.3"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "b380d61cb56db2db0fc88072b77e760a107691521ac83012379d97d6d6e6f7ac"
+source = "git+https://github.com/archlinux/alpm.rs?rev=54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a#54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a"
 dependencies = [
  "bindgen",
  "pkg-config",
@@ -49,8 +47,7 @@ dependencies = [
 [[package]]
 name = "alpm-utils"
 version = "4.0.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "7a56cf9221faa08b5a59a9f429cc5338d8e77e22e1d7fe7d3179fc5c3acf7fc3"
+source = "git+https://github.com/archlinux/alpm.rs?rev=54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a#54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a"
 dependencies = [
  "alpm",
  "pacmanconf",
@@ -1463,9 +1460,9 @@ checksum = "04744f49eae99ab78e0d5c0b603ab218f515ea8cfe5a456d7629ad883a3b6e7d"
 
 [[package]]
 name = "pacmanconf"
-version = "3.0.0"
+version = "3.1.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "5be1f202256ab200a4fdaaad0988015987876b0aa336ca7a7e685080bab58a40"
+checksum = "1087f8994e545eed9f7453376282f2964f18ca4b739e42f0dc7f2fed246d76c3"
 dependencies = [
  "cini",
 ]
diff --git a/Cargo.toml b/Cargo.toml
index 1002a1a..5447467 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -20,7 +20,7 @@ alpm-utils = "4.0.1"
 aur-depends = "4.0.3"
 aur-fetch = "0.11.3"
 cini = "1.0.0"
-pacmanconf = "3.0.0"
+pacmanconf = "3.1.0"
 raur = "7.0.0"
 srcinfo = "1.3.1"
 
@@ -72,6 +72,8 @@ mock_chroot = ["mock"]
 #default = ["git", "generate"]
 
 [patch.crates-io]
+alpm = { git = "https://github.com/archlinux/alpm.rs", rev = "54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a" }
+alpm-utils = { git = "https://github.com/archlinux/alpm.rs", rev = "54b8bdcdce2b04d12a180f1fd4b304cc8cf4cc1a" }
 #alpm = { path = "../alpm.rs/alpm" }
 #alpm-utils = { path = "../alpm.rs/alpm-utils" }
 #aur-depends = { path = "../aur-depends" }
-- 
2.51.2

