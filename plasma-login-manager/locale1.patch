From 2ec6981e4711635da7662248548ec3781c8670e9 Mon Sep 17 00:00:00 2001
From: Neal Gompa <ngompa@kde.org>
Date: Fri, 16 Jan 2026 10:56:57 -0500
Subject: [PATCH] startkde: Start KWin with plasma-keyboard enabled

Otherwise, we cannot type on keyboard-less devices.
---
 src/frontend/startkde/plasma-login-kwin_wayland.service.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/frontend/startkde/plasma-login-kwin_wayland.service.in b/src/frontend/startkde/plasma-login-kwin_wayland.service.in
index d7c78610..15e7443d 100644
--- a/src/frontend/startkde/plasma-login-kwin_wayland.service.in
+++ b/src/frontend/startkde/plasma-login-kwin_wayland.service.in
@@ -3,6 +3,6 @@ Description=KDE Window Manager (Login Manager Version)
 PartOf=graphical-session.target
 
 [Service]
-ExecStart=@CMAKE_INSTALL_FULL_BINDIR@/kwin_wayland --no-lockscreen --no-global-shortcuts --no-kactivities
+ExecStart=@CMAKE_INSTALL_FULL_BINDIR@/kwin_wayland --no-lockscreen --no-global-shortcuts --no-kactivities --inputmethod plasma-keyboard
 BusName=org.kde.KWin
 Slice=session.slice


 From c1ee4416f27f8e15daa0a044e2693563ed9810ff Mon Sep 17 00:00:00 2001
 From: Neal Gompa <ngompa@kde.org>
 Date: Fri, 16 Jan 2026 10:57:59 -0500
 Subject: [PATCH] startkde: Start KWin with locale1 support enabled
 
 Otherwise, KWin does not respond to system locale settings for
 the login manager environment.
 ---
  src/frontend/startkde/plasma-login-kwin_wayland.service.in | 2 +-
  1 file changed, 1 insertion(+), 1 deletion(-)
 
 diff --git a/src/frontend/startkde/plasma-login-kwin_wayland.service.in b/src/frontend/startkde/plasma-login-kwin_wayland.service.in
 index 15e7443..2b7e6b9 100644
 --- a/src/frontend/startkde/plasma-login-kwin_wayland.service.in
 +++ b/src/frontend/startkde/plasma-login-kwin_wayland.service.in
 @@ -3,6 +3,6 @@ Description=KDE Window Manager (Login Manager Version)
  PartOf=graphical-session.target
  
  [Service]
 -ExecStart=@CMAKE_INSTALL_FULL_BINDIR@/kwin_wayland --no-lockscreen --no-global-shortcuts --no-kactivities --inputmethod plasma-keyboard
 +ExecStart=@CMAKE_INSTALL_FULL_BINDIR@/kwin_wayland --no-lockscreen --no-global-shortcuts --no-kactivities --inputmethod plasma-keyboard --locale1
  BusName=org.kde.KWin
  Slice=session.slice
