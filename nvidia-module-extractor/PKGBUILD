# Maintainer: Vasiliy Stelmachenok <ventureo@cachyos.org>
pkgname=nvidia-module-extractor
pkgver=6
pkgrel=1
pkgdesc="Extracts nvidia kernel modules to separate directory"
arch=('any')
license=('GPL-3.0-or-later')
url="https://github.com/CachyOS/CachyOS-PKGBUILDS/$pkgname"
source=(
    module-extractor
    nvidia-module-extractor.hook
)
sha256sums=('116eb999fbdafe259e6380bf64c595541dd22ab8b4d1bef990d3ea655620c45a'
            'f43243e984452cfe2d216d7c711c139bc632f6e412ba14bc9f0b8f757fdbfb67')

package() {
    install -Dm755 module-extractor "$pkgdir/usr/share/libalpm/scripts/module-extractor"
    install -Dm644 nvidia-module-extractor.hook "$pkgdir/usr/share/libalpm/hooks/nvidia-module-extractor.hook"
}
