# Maintainer: Vasiliy Stelmachenok <ventureo@cachyos.org>
pkgname=nvidia-module-extractor
pkgver=4
pkgrel=1
pkgdesc="Extracts nvidia kernel modules to separate directory"
arch=('any')
license=('GPL-3.0-or-later')
url="https://github.com/CachyOS/CachyOS-PKGBUILDS/$pkgname"
source=(
    module-extractor
    nvidia-module-extractor.hook
)
sha256sums=('4dcb383816d23f6bf08d4dd00bcf05b33e7ed46d88cab82db97ee0f42f3108fc'
            '1ef6a674258542f9fa65cdac308f8b9d28b7919b60d02af6cb86a83b431487e5')

package() {
    install -Dm755 module-extractor "$pkgdir/usr/share/libalpm/scripts/module-extractor"
    install -Dm644 nvidia-module-extractor.hook "$pkgdir/usr/share/libalpm/hooks/nvidia-module-extractor.hook"
}
